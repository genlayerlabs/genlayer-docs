# Adding LLM Provider Plugins

> **Note:** This section is intended for advanced users who wish to integrate new LLM provider plugins. This process requires code modifications, and we encourage you to create a Pull Request if you'd like your plugin to be included in the official GenLayer Simulator.

The GenLayer Simulator seamlessly interacts with multiple LLM providers.
Currently, we support the following providers out of the box:

- [OpenAI](https://platform.openai.com/)
- [Anthropic](https://www.anthropic.com/)
- [Ollama](https://ollama.com/)
- [Heuristai](https://heurist.ai/)

In addition to these built-in providers, you have the flexibility to integrate your own custom providers.

## Prerequisites

Before you begin, ensure you have:

1. A solid understanding of [GitHub](https://github.com/) and its version control and collaboration features.
2. A local development environment with the [GenLayer Simulator](https://github.com/yeagerai/genlayer-simulator) set up for development and testing.
3. Proficiency in [Python](https://www.python.org/) programming.
4. In-depth knowledge of the LLM provider you intend to integrate, including its API structure and authentication mechanisms.

Meeting these prerequisites will significantly streamline the process of adding a new plugin and enhance your overall efficiency.

## Adding a New LLM Provider Plugin

To integrate a new LLM provider plugin, you need to implement the `Plugin` protocol defined in the [llms.py](https://github.com/yeagerai/genlayer-simulator/blob/main/backend/node/genvm/llms.py) file. The protocol is structured as follows:

```python
class Plugin(Protocol):
    def __init__(self, plugin_config: dict): ...

    async def call(
        self,
        node_config: dict,
        prompt: str,
        regex: Optional[str],
        return_streaming_channel: Optional[asyncio.Queue],
    ) -> str: ...

    def is_available(self) -> bool: ...

    def is_model_available(self, model: str) -> bool: ...
```

After implementing the `Plugin` protocol, you need to register your new provider in the `llms.py` file under the `get_llm_provider` function. This step ensures that the GenLayer Simulator recognizes and can utilize your custom plugin.

## Updating the JSON Schema

To maintain consistency and enable proper configuration validation, you must update the [JSON schema](https://json-schema.org/) in the [`providers_schema.json`](https://github.com/yeagerai/genlayer-simulator/blob/main/backend/node/create_nodes/providers_schema.json) file. This update should include your new provider and its specific configuration options.

The JSON schema plays a crucial role in validating the configuration options for each provider, ensuring that users input correct and compatible settings.

## Creating a New Validator for the New Provider

For a comprehensive guide on creating a validator for your new provider, please refer to the [Customizing LLM Providers](/advanced-features/customizing-llm-providers) section. This process is essential for maintaining the integrity and functionality of your custom plugin within the GenLayer ecosystem.
