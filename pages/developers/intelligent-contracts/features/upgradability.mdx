# Upgradability

During deployment contract may freeze certain storage slots. Frozen slots can be modified
only if sender of the transaction is in *upgraders* list. Hence frozen empty *upgraders* list
with frozen code slot makes contract non-upgradable.

See [GenVM specification](https://sdk.genlayer.com/v0.2.7/spec/04-contract-interface/04-upgradability.html) for more details.

## Example


```python
class Proxy(gl.Contract):
    def __init__(self, upgrader: Address):
        root = gl.storage.Root.get()
        root.upgraders.append(upgrader)
        # default bootloader freezes relevant slots
        # so we need to modify only upgraders

    @gl.public.write
    def update_code(self, new_code: bytes):
        root = gl.storage.Root.get()
        code_vla = root.code.get()

        # If message.sender is not in upgraders, below will issue a VMError
        code_vla.truncate() # Clear existing code
        code_vla.extend(new_code) # Put the new code
```
